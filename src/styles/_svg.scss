@mixin svg-circle-preloader($color:#fff) {
  background-image: svg-url('<svg width="38" height="38" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg" stroke="' + $color + '"><g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="1"><circle stroke-opacity=".5" cx="18" cy="18" r="18"/><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"/></path></g></g></svg>');
  background-repeat: no-repeat;
  background-size: cover;
}

@mixin svg-circle($stroke: 'none', $fill:#fff) {
  background-image: svg-url('<svg width="38" height="38" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg" stroke="' + $stroke + '"><g fill="' + $fill + '" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="1"><circle stroke-opacity=".5" cx="18" cy="18" r="18"/></g></g></svg>');
  background-repeat: no-repeat;
  background-size: cover;
}

@mixin svg-headset($color:#fff) {
  background-image: svg-url('<svg fill="' + $color + '" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none" opacity=".1"/><path d="M12 1c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h3c1.66 0 3-1.34 3-3v-7c0-4.97-4.03-9-9-9z"/></svg>');
  background-repeat: no-repeat;
  background-size: cover;
}

@mixin svg-globe($color:#fff) {
  background-image: svg-url('<svg fill="' + $color + '" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>');
  background-repeat: no-repeat;
  background-size: cover;
}

@mixin svg-scrolldown($color:#fff) {
  background-image: svg-url('<svg viewBox="0 0 22 59.33" xmlns="http://www.w3.org/2000/svg"><rect x="0.5" y="0.5" width="21" height="35" rx="9" ry="9" fill="rgba(255,255,255,.3)" stroke="' + $color + '"></rect><circle fill="' + $color + '" cx="11" cy="13.5" r="1.5"></circle><path fill="' + $color + '" d="M10.5,43h1v15.5h-1ZM6.42,54.89l.71-.71,4.45,4.45-.71.71Zm9.15,0-.71-.71-4.45,4.45.71.71Z"></path></svg>');
  background-repeat: no-repeat;
  background-size: cover;
}

@mixin svg-zoom($color:#fff) {
  background-image: svg-url('<svg fill="' + $color + '" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M0 0h24v24H0z" id="a"/></defs><clipPath id="b"><use overflow="visible" xlink:href="#a"/></clipPath><path clip-path="url(#b)" d="M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z"/><path clip-path="url(#b)" d="M0 0h24v24H0z" fill="none"/></svg>');
  background-repeat: no-repeat;
  background-size: cover;
}

@mixin svg-volume-up($color:#fff) {
  background-image: svg-url('<svg fill="' + $color + '" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');
  background-repeat: no-repeat;
  background-size: cover;
}

@mixin svg-volume-down($color:#fff) {
  background-image: svg-url('<svg fill="' + $color + '" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');
  background-repeat: no-repeat;
  background-size: cover;
}

@mixin svg-twitter($color:#fff) {
  background-image: svg-url('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 39.2 31.9" style="enable-background:new 0 0 39.2 31.9;" xml:space="preserve"><g><path fill="'+$color+'" class="st0" d="M39.2,3.8c-1.4,0.6-3,1.1-4.6,1.3c1.7-1,2.9-2.6,3.5-4.4c-1.6,0.9-3.3,1.6-5.1,2C31.5,1,29.4,0,27.1,0   c-4.4,0-8,3.6-8,8c0,0.6,0.1,1.2,0.2,1.8C12.6,9.5,6.7,6.3,2.7,1.5C2,2.7,1.6,4,1.6,5.5c0,2.8,1.4,5.3,3.6,6.7   c-1.3,0-2.6-0.4-3.6-1c0,0,0,0.1,0,0.1c0,3.9,2.8,7.1,6.5,7.9c-0.7,0.2-1.4,0.3-2.1,0.3c-0.5,0-1-0.1-1.5-0.1c1,3.2,4,5.5,7.5,5.6   c-2.8,2.2-6.2,3.4-10,3.4c-0.6,0-1.3,0-1.9-0.1c3.6,2.3,7.8,3.6,12.3,3.6c14.8,0,22.9-12.3,22.9-22.9c0-0.3,0-0.7,0-1   C36.8,6.8,38.1,5.4,39.2,3.8z"/></g></svg>');
  background-repeat: no-repeat;
  background-size: cover;
}

@mixin svg-facebook($color:#fff) {
  background-image: svg-url('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 31.9 31.9" style="enable-background:new 0 0 31.9 31.9;" xml:space="preserve"><path id="White_2_" class="st0" fill="'+ $color +'" d="M30.1,0H1.8C0.8,0,0,0.8,0,1.8v28.3c0,1,0.8,1.8,1.8,1.8H17V19.5h-4.2v-4.8H17v-3.5  c0-4.1,2.5-6.4,6.2-6.4c1.8,0,3.3,0.1,3.7,0.2v4.3l-2.5,0c-2,0-2.4,0.9-2.4,2.3v3.1h4.8l-0.6,4.8H22v12.3h8.1c1,0,1.8-0.8,1.8-1.8  V1.8C31.9,0.8,31.1,0,30.1,0z"/></svg>');
  background-repeat: no-repeat;
  background-size: cover;
}

@mixin svg-menu($color:#fff) {
  background-image: svg-url('<svg fill="'+ $color +'" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');
  background-repeat: no-repeat;
  background-size: cover;
}

/////////// helper functions ///////////

@function svg-url($svg){
    //
    //  Chunk up string in order to avoid
    //  "stack level too deep" error
    //
    $encoded:'';
    $slice: 2000;
    $index: 0;
    $loops: ceil(str-length($svg)/$slice);
    @for $i from 1 through $loops {
        $chunk: str-slice($svg, $index, $index + $slice - 1);
        //
        //   Encode (may need a few extra replacements)
        //
        $chunk: str-replace($chunk,'"','\'');
        $chunk: str-replace($chunk,'<','%3C');
        $chunk: str-replace($chunk,'>','%3E');
        $chunk: str-replace($chunk,'&','%26');
        $chunk: str-replace($chunk,'#','%23');
        $encoded: #{$encoded}#{$chunk};
        $index: $index + $slice;
    }
    @return url("data:image/svg+xml;charset=utf8,#{$encoded}");
}

//  Helper function to replace characters in a string
@function str-replace($string, $search, $replace: '') {
    $index: str-index($string, $search);
    @if $index {
        @return str-slice($string, 1, $index - 1) + $replace +
            str-replace(str-slice($string, $index +
            str-length($search)), $search, $replace);
    }
    @return $string;
}
